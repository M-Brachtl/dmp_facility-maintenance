<app-header-btns [altText]="['Vytvořit', 'Přepnout', 'Zobrazit']" />
<main class="p-7 bg-gray-100 my-5 rounded-lg shadow-lg shadow-gray-300 h-90vh">
    @if (mode === "add") {
        <p>adding</p>
    }
    @else if (mode === "remove") {
        <p>removing</p>
    }
    @else if (mode == 'list') {
        <h3 class="text-lg font-bold text-center mb-4">{{ current_plan.title }}</h3>
        <!-- <h4>Stroje:</h4> -->
         <!-- <p>{{ calendarKeyList }}</p> -->
        <div>
            <table class="table-auto border-collapse border border-gray-400 w-3xl text-center">
                <tbody>
                @for (yearList of calendarKeyList; track $index) {
                    <tr class="border-t-2 border-black text-lg font-bold text-left bg-indigo-400"><td colspan="3" class="pl-1">{{ yearList[0].split('-')[0] }}</td></tr> <!-- rok -->
                    @for (month of yearList; track $index) {
                        <tr class="border-t border-gray-400 text-left bg-indigo-200"><td colspan="3" class="pl-1">{{ month.split('-')[1] }}</td></tr>
                        @if (calendar[month].machines.length > 0) {
                            <tr class="bg-indigo-100"><th class="w-1/3">Typ revize</th><th class="w-1/3">Inv. č. stroje</th><th class="w-1/3">Název stroje</th></tr>
                        }
                        @for (entry of calendar[month].machines; track $index) {
                            <tr>
                                <td>{{entry[0]}}</td>
                                <td>{{entry[1]}}</td>
                                <td>{{entry[2]}}</td>
                            </tr>
                        }
                    }
                }
                </tbody>
            </table>
        </div>
    }
</main>
